// deno-lint-ignore-file
var n=class s{options;lastTouchEnd=0;isEnabled=!1;boundHandlers={};constructor(t={}){this.options={autoInit:!0,target:document,...t},this.options.autoInit&&this.enable()}handleTouchStart(t){t.touches.length>1&&t.preventDefault()}handleTouchEnd(t){let e=Date.now();e-this.lastTouchEnd<=300&&t.preventDefault(),this.lastTouchEnd=e}enable(){return this.isEnabled?(console.warn("DisableZoom is already enabled"),this):(this.boundHandlers={touchstart:this.handleTouchStart.bind(this),touchend:this.handleTouchEnd.bind(this)},this.boundHandlers.touchstart&&this.options.target.addEventListener("touchstart",this.boundHandlers.touchstart,{passive:!1}),this.boundHandlers.touchend&&this.options.target.addEventListener("touchend",this.boundHandlers.touchend,{passive:!1}),this.isEnabled=!0,this)}disable(){return this.isEnabled?(this.boundHandlers.touchstart&&this.options.target.removeEventListener("touchstart",this.boundHandlers.touchstart),this.boundHandlers.touchend&&this.options.target.removeEventListener("touchend",this.boundHandlers.touchend),this.boundHandlers={},this.isEnabled=!1,this):(console.warn("DisableZoom is already disabled"),this)}toggle(){return this.isEnabled?this.disable():this.enable()}get enabled(){return this.isEnabled}destroy(){this.disable(),this.boundHandlers={},this.lastTouchEnd=0}static disableZoom(t={}){return new s(t)}static isMobileDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}};export{n as DisableZoom};
