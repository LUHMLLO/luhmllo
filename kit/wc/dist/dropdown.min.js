// deno-lint-ignore-file
var et=["top","right","bottom","left"],mt=["start","end"],nt=et.reduce((t,e)=>t.concat(e,e+"-"+mt[0],e+"-"+mt[1]),[]),z=Math.min,S=Math.max,I=Math.round,K=Math.floor,E=t=>({x:t,y:t}),Ut={left:"right",right:"left",bottom:"top",top:"bottom"},Yt={start:"end",end:"start"};function it(t,e,i){return S(t,z(e,i))}function V(t,e){return typeof t=="function"?t(e):t}function H(t){return t.split("-")[0]}function C(t){return t.split("-")[1]}function ot(t){return t==="x"?"y":"x"}function rt(t){return t==="y"?"height":"width"}var Gt=new Set(["top","bottom"]);function U(t){return Gt.has(H(t))?"y":"x"}function at(t){return ot(U(t))}function ht(t,e,i){i===void 0&&(i=!1);let n=C(t),o=at(t),a=rt(o),r=o==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(r=tt(r)),[r,tt(r)]}function pt(t){return t.replace(/start|end/g,e=>Yt[e])}function tt(t){return t.replace(/left|right|bottom|top/g,e=>Ut[e])}function Qt(t){return{top:0,right:0,bottom:0,left:0,...t}}function gt(t){return typeof t!="number"?Qt(t):{top:t,right:t,bottom:t,left:t}}function B(t){let{x:e,y:i,width:n,height:o}=t;return{width:n,height:o,top:i,left:e,right:e+n,bottom:i+o,x:e,y:i}}function yt(t,e,i){let{reference:n,floating:o}=t,a=U(e),r=at(e),l=rt(r),s=H(e),c=a==="y",d=n.x+n.width/2-o.width/2,u=n.y+n.height/2-o.height/2,m=n[l]/2-o[l]/2,f;switch(s){case"top":f={x:d,y:n.y-o.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:u};break;case"left":f={x:n.x-o.width,y:u};break;default:f={x:n.x,y:n.y}}switch(C(e)){case"start":f[r]-=m*(i&&c?-1:1);break;case"end":f[r]+=m*(i&&c?-1:1);break}return f}var xt=async(t,e,i)=>{let{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:r}=i,l=a.filter(Boolean),s=await(r.isRTL==null?void 0:r.isRTL(e)),c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:u}=yt(c,n,s),m=n,f={},g=0;for(let h=0;h<l.length;h++){let{name:y,fn:p}=l[h],{x:v,y:w,data:b,reset:A}=await p({x:d,y:u,initialPlacement:n,placement:m,strategy:o,middlewareData:f,rects:c,platform:r,elements:{reference:t,floating:e}});d=v??d,u=w??u,f={...f,[y]:{...f[y],...b}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(c=A.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):A.rects),{x:d,y:u}=yt(c,m,s)),h=-1)}return{x:d,y:u,placement:m,strategy:o,middlewareData:f}};async function j(t,e){var i;e===void 0&&(e={});let{x:n,y:o,platform:a,rects:r,elements:l,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:f=0}=V(e,t),g=gt(f),h=l[m?u==="floating"?"reference":"floating":u],y=B(await a.getClippingRect({element:(i=await(a.isElement==null?void 0:a.isElement(h)))==null||i?h:h.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:s})),p=u==="floating"?{x:n,y:o,width:r.floating.width,height:r.floating.height}:r.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),w=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},b=B(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:v,strategy:s}):p);return{top:(y.top-b.top+g.top)/w.y,bottom:(b.bottom-y.bottom+g.bottom)/w.y,left:(y.left-b.left+g.left)/w.x,right:(b.right-y.right+g.right)/w.x}}function Xt(t,e,i){return(t?[...i.filter(n=>C(n)===t),...i.filter(n=>C(n)!==t)]:i.filter(n=>H(n)===n)).filter(n=>t?C(n)===t||(e?pt(n)!==n:!1):!0)}var bt=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var i,n,o;let{rects:a,middlewareData:r,placement:l,platform:s,elements:c}=e,{crossAxis:d=!1,alignment:u,allowedPlacements:m=nt,autoAlignment:f=!0,...g}=V(t,e),h=u!==void 0||m===nt?Xt(u||null,f,m):m,y=await j(e,g),p=((i=r.autoPlacement)==null?void 0:i.index)||0,v=h[p];if(v==null)return{};let w=ht(v,a,await(s.isRTL==null?void 0:s.isRTL(c.floating)));if(l!==v)return{reset:{placement:h[0]}};let b=[y[H(v)],y[w[0]],y[w[1]]],A=[...((n=r.autoPlacement)==null?void 0:n.overflows)||[],{placement:v,overflows:b}],D=h[p+1];if(D)return{data:{index:p+1,overflows:A},reset:{placement:D}};let dt=A.map(P=>{let $=C(P.placement);return[P.placement,$&&d?P.overflows.slice(0,2).reduce((It,Kt)=>It+Kt,0):P.overflows[0],P.overflows]}).sort((P,$)=>P[1]-$[1]),ut=((o=dt.filter(P=>P[2].slice(0,C(P[0])?2:3).every($=>$<=0))[0])==null?void 0:o[0])||dt[0][0];return ut!==l?{data:{index:p+1,overflows:A},reset:{placement:ut}}:{}}}};function vt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function wt(t){return et.some(e=>t[e]>=0)}var At=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){let{rects:i}=e,{strategy:n="referenceHidden",...o}=V(t,e);switch(n){case"referenceHidden":{let a=await j(e,{...o,elementContext:"reference"}),r=vt(a,i.reference);return{data:{referenceHiddenOffsets:r,referenceHidden:wt(r)}}}case"escaped":{let a=await j(e,{...o,altBoundary:!0}),r=vt(a,i.floating);return{data:{escapedOffsets:r,escaped:wt(r)}}}default:return{}}}}};var Jt=new Set(["left","top"]);async function Zt(t,e){let{placement:i,platform:n,elements:o}=t,a=await(n.isRTL==null?void 0:n.isRTL(o.floating)),r=H(i),l=C(i),s=U(i)==="y",c=Jt.has(r)?-1:1,d=a&&s?-1:1,u=V(e,t),{mainAxis:m,crossAxis:f,alignmentAxis:g}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),s?{x:f*d,y:m*c}:{x:m*c,y:f*d}}var Rt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,n;let{x:o,y:a,placement:r,middlewareData:l}=e,s=await Zt(e,t);return r===((i=l.offset)==null?void 0:i.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+s.x,y:a+s.y,data:{...s,placement:r}}}}},Tt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:i,y:n,placement:o}=e,{mainAxis:a=!0,crossAxis:r=!1,limiter:l={fn:y=>{let{x:p,y:v}=y;return{x:p,y:v}}},...s}=V(t,e),c={x:i,y:n},d=await j(e,s),u=U(H(o)),m=ot(u),f=c[m],g=c[u];if(a){let y=m==="y"?"top":"left",p=m==="y"?"bottom":"right",v=f+d[y],w=f-d[p];f=it(v,f,w)}if(r){let y=u==="y"?"top":"left",p=u==="y"?"bottom":"right",v=g+d[y],w=g-d[p];g=it(v,g,w)}let h=l.fn({...e,[m]:f,[u]:g});return{...h,data:{x:h.x-i,y:h.y-n,enabled:{[m]:a,[u]:r}}}}}};function Q(){return typeof globalThis<"u"}function F(t){return Lt(t)?(t.nodeName||"").toLowerCase():"#document"}function x(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||globalThis}function L(t){var e;return(e=(Lt(t)?t.ownerDocument:t.document)||globalThis.document)==null?void 0:e.documentElement}function Lt(t){return Q()?t instanceof Node||t instanceof x(t).Node:!1}function R(t){return Q()?t instanceof Element||t instanceof x(t).Element:!1}function O(t){return Q()?t instanceof HTMLElement||t instanceof x(t).HTMLElement:!1}function Et(t){return!Q()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof x(t).ShadowRoot}var te=new Set(["inline","contents"]);function q(t){let{overflow:e,overflowX:i,overflowY:n,display:o}=T(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!te.has(o)}var ee=new Set(["table","td","th"]);function Ot(t){return ee.has(F(t))}var ne=[":popover-open",":modal"];function Y(t){return ne.some(e=>{try{return t.matches(e)}catch{return!1}})}var ie=["transform","translate","scale","rotate","perspective"],oe=["transform","translate","scale","rotate","perspective","filter"],re=["paint","layout","strict","content"];function X(t){let e=J(),i=R(t)?T(t):t;return ie.some(n=>i[n]?i[n]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||oe.some(n=>(i.willChange||"").includes(n))||re.some(n=>(i.contain||"").includes(n))}function Pt(t){let e=k(t);for(;O(e)&&!N(e);){if(X(e))return e;if(Y(e))return null;e=k(e)}return null}function J(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}var ae=new Set(["html","body","#document"]);function N(t){return ae.has(F(t))}function T(t){return x(t).getComputedStyle(t)}function G(t){return R(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function k(t){if(F(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Et(t)&&t.host||L(t);return Et(e)?e.host:e}function St(t){let e=k(t);return N(e)?t.ownerDocument?t.ownerDocument.body:t.body:O(e)&&q(e)?e:St(e)}function M(t,e,i){var n;e===void 0&&(e=[]),i===void 0&&(i=!0);let o=St(t),a=o===((n=t.ownerDocument)==null?void 0:n.body),r=x(o);if(a){let l=Z(r);return e.concat(r,r.visualViewport||[],q(o)?o:[],l&&i?M(l):[])}return e.concat(o,M(o,[],i))}function Z(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dt(t){let e=T(t),i=parseFloat(e.width)||0,n=parseFloat(e.height)||0,o=O(t),a=o?t.offsetWidth:i,r=o?t.offsetHeight:n,l=I(i)!==a||I(n)!==r;return l&&(i=a,n=r),{width:i,height:n,$:l}}function st(t){return R(t)?t:t.contextElement}function _(t){let e=st(t);if(!O(e))return E(1);let i=e.getBoundingClientRect(),{width:n,height:o,$:a}=Dt(e),r=(a?I(i.width):i.width)/n,l=(a?I(i.height):i.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}var le=E(0);function Ht(t){let e=x(t);return!J()||!e.visualViewport?le:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function se(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==x(t)?!1:e}function W(t,e,i,n){e===void 0&&(e=!1),i===void 0&&(i=!1);let o=t.getBoundingClientRect(),a=st(t),r=E(1);e&&(n?R(n)&&(r=_(n)):r=_(t));let l=se(a,i,n)?Ht(a):E(0),s=(o.left+l.x)/r.x,c=(o.top+l.y)/r.y,d=o.width/r.x,u=o.height/r.y;if(a){let m=x(a),f=n&&R(n)?x(n):n,g=m,h=Z(g);for(;h&&n&&f!==g;){let y=_(h),p=h.getBoundingClientRect(),v=T(h),w=p.left+(h.clientLeft+parseFloat(v.paddingLeft))*y.x,b=p.top+(h.clientTop+parseFloat(v.paddingTop))*y.y;s*=y.x,c*=y.y,d*=y.x,u*=y.y,s+=w,c+=b,g=x(h),h=Z(g)}}return B({width:d,height:u,x:s,y:c})}function ct(t,e){let i=G(t).scrollLeft;return e?e.left+i:W(L(t)).left+i}function Bt(t,e,i){i===void 0&&(i=!1);let n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(i?0:ct(t,n)),a=n.top+e.scrollTop;return{x:o,y:a}}function ce(t){let{elements:e,rect:i,offsetParent:n,strategy:o}=t,a=o==="fixed",r=L(n),l=e?Y(e.floating):!1;if(n===r||l&&a)return i;let s={scrollLeft:0,scrollTop:0},c=E(1),d=E(0),u=O(n);if((u||!u&&!a)&&((F(n)!=="body"||q(r))&&(s=G(n)),O(n))){let f=W(n);c=_(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}let m=r&&!u&&!a?Bt(r,s,!0):E(0);return{width:i.width*c.x,height:i.height*c.y,x:i.x*c.x-s.scrollLeft*c.x+d.x+m.x,y:i.y*c.y-s.scrollTop*c.y+d.y+m.y}}function fe(t){return Array.from(t.getClientRects())}function de(t){let e=L(t),i=G(t),n=t.ownerDocument.body,o=S(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=S(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight),r=-i.scrollLeft+ct(t),l=-i.scrollTop;return T(n).direction==="rtl"&&(r+=S(e.clientWidth,n.clientWidth)-o),{width:o,height:a,x:r,y:l}}function ue(t,e){let i=x(t),n=L(t),o=i.visualViewport,a=n.clientWidth,r=n.clientHeight,l=0,s=0;if(o){a=o.width,r=o.height;let c=J();(!c||c&&e==="fixed")&&(l=o.offsetLeft,s=o.offsetTop)}return{width:a,height:r,x:l,y:s}}var me=new Set(["absolute","fixed"]);function he(t,e){let i=W(t,!0,e==="fixed"),n=i.top+t.clientTop,o=i.left+t.clientLeft,a=O(t)?_(t):E(1),r=t.clientWidth*a.x,l=t.clientHeight*a.y,s=o*a.x,c=n*a.y;return{width:r,height:l,x:s,y:c}}function Ct(t,e,i){let n;if(e==="viewport")n=ue(t,i);else if(e==="document")n=de(L(t));else if(R(e))n=he(e,i);else{let o=Ht(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return B(n)}function Mt(t,e){let i=k(t);return i===e||!R(i)||N(i)?!1:T(i).position==="fixed"||Mt(i,e)}function pe(t,e){let i=e.get(t);if(i)return i;let n=M(t,[],!1).filter(l=>R(l)&&F(l)!=="body"),o=null,a=T(t).position==="fixed",r=a?k(t):t;for(;R(r)&&!N(r);){let l=T(r),s=X(r);!s&&l.position==="fixed"&&(o=null),(a?!s&&!o:!s&&l.position==="static"&&o&&me.has(o.position)||q(r)&&!s&&Mt(t,r))?n=n.filter(c=>c!==r):o=l,r=k(r)}return e.set(t,n),n}function ge(t){let{element:e,boundary:i,rootBoundary:n,strategy:o}=t,a=[...i==="clippingAncestors"?Y(e)?[]:pe(e,this.s):[].concat(i),n],r=a[0],l=a.reduce((s,c)=>{let d=Ct(e,c,o);return s.top=S(d.top,s.top),s.right=z(d.right,s.right),s.bottom=z(d.bottom,s.bottom),s.left=S(d.left,s.left),s},Ct(e,r,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function ye(t){let{width:e,height:i}=Dt(t);return{width:e,height:i}}function ve(t,e,i){let n=O(e),o=L(e),a=i==="fixed",r=W(t,!0,a,e),l={scrollLeft:0,scrollTop:0},s=E(0);function c(){s.x=ct(o)}if(n||!n&&!a)if((F(e)!=="body"||q(o))&&(l=G(e)),n){let f=W(e,!0,a,e);s.x=f.x+e.clientLeft,s.y=f.y+e.clientTop}else o&&c();a&&!n&&o&&c();let d=o&&!n&&!a?Bt(o,l):E(0),u=r.left+l.scrollLeft-s.x-d.x,m=r.top+l.scrollTop-s.y-d.y;return{x:u,y:m,width:r.width,height:r.height}}function lt(t){return T(t).position==="static"}function kt(t,e){if(!O(t)||T(t).position==="fixed")return null;if(e)return e(t);let i=t.offsetParent;return L(t)===i&&(i=i.ownerDocument.body),i}function Ft(t,e){let i=x(t);if(Y(t))return i;if(!O(t)){let o=k(t);for(;o&&!N(o);){if(R(o)&&!lt(o))return o;o=k(o)}return i}let n=kt(t,e);for(;n&&Ot(n)&&lt(n);)n=kt(n,e);return n&&N(n)&&lt(n)&&!X(n)?i:n||Pt(t)||i}var we=async function(t){let e=this.getOffsetParent||Ft,i=this.getDimensions,n=await i(t.floating);return{reference:ve(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xe(t){return T(t).direction==="rtl"}var be={convertOffsetParentRelativeRectToViewportRelativeRect:ce,getDocumentElement:L,getClippingRect:ge,getOffsetParent:Ft,getElementRects:we,getClientRects:fe,getDimensions:ye,getScale:_,isElement:R,isRTL:xe};function Nt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Ae(t,e){let i=null,n,o=L(t);function a(){var l;clearTimeout(n),(l=i)==null||l.disconnect(),i=null}function r(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),a();let c=t.getBoundingClientRect(),{left:d,top:u,width:m,height:f}=c;if(l||e(),!m||!f)return;let g=K(u),h=K(o.clientWidth-(d+m)),y=K(o.clientHeight-(u+f)),p=K(d),v={rootMargin:-g+"px "+-h+"px "+-y+"px "+-p+"px",threshold:S(0,z(1,s))||1},w=!0;function b(A){let D=A[0].intersectionRatio;if(D!==s){if(!w)return r();D?r(!1,D):n=setTimeout(()=>{r(!1,1e-7)},1e3)}D===1&&!Nt(c,t.getBoundingClientRect())&&r(),w=!1}try{i=new IntersectionObserver(b,{...v,root:o.ownerDocument})}catch{i=new IntersectionObserver(b,v)}i.observe(t)}return r(!0),a}function Wt(t,e,i,n){n===void 0&&(n={});let{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,c=st(t),d=o||a?[...c?M(c):[],...M(e)]:[];d.forEach(p=>{o&&p.addEventListener("scroll",i,{passive:!0}),a&&p.addEventListener("resize",i)});let u=c&&l?Ae(c,i):null,m=-1,f=null;r&&(f=new ResizeObserver(p=>{let[v]=p;v&&v.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),i()}),c&&!s&&f.observe(c),f.observe(e));let g,h=s?W(t):null;s&&y();function y(){let p=W(t);h&&!Nt(h,p)&&i(),h=p,g=requestAnimationFrame(y)}return i(),()=>{var p;d.forEach(v=>{o&&v.removeEventListener("scroll",i),a&&v.removeEventListener("resize",i)}),u?.(),(p=f)==null||p.disconnect(),f=null,s&&cancelAnimationFrame(g)}}var zt=j,Vt=Rt,jt=bt,qt=Tt;var _t=At;var $t=(t,e,i)=>{let n=new Map,o={platform:be,...i},a={...o.platform,s:n};return xt(t,e,{...o,platform:a})};var ft=class extends HTMLElement{t=!1;e=null;n;constructor(){super(),this.attachShadow({mode:"open",delegatesFocus:!0}),this.n=this.clickOutsideHandler.bind(this)}static get observedAttributes(){return["open"]}get open(){return this.t}set open(e){this.t=e,e?this.setAttribute("open",""):this.removeAttribute("open"),this.render(),this.i()}connectedCallback(){this.render(),this.addEventListener("focus",this.o.bind(this)),document.addEventListener("click",this.n)}disconnectedCallback(){this.removeEventListener("focus",this.o.bind(this)),document.removeEventListener("click",this.n),this.r()}attributeChangedCallback(e,i,n){e==="open"&&(this.t=n!==null,this.render(),this.i())}render(){let e=`
      :root {
        interpolate-size: allow-keywords;
      }
      
      :host {
        display: inline-block;
        flex-shrink: 0;
        height: max-content;
        min-height: 0;
        min-width: 0;
        position: relative;
        transition-property: height, width;
        transition-duration: var(--animDuration);
        transition-timing-function: var(--animTiming);
        transform-style: preserve-3d;
        width: max-content;
        z-index: auto;
      }

      ::slotted(summary),
      ::slotted([slot="summary"]) {
        align-items: center;
        cursor: pointer;
        display: flex;
        flex-shrink: 0;
    
        &::marker {
          content: "";
          display: none;
        }
      }

      [part="dropmenu"] {
        background-color: var(--clr-background__base);
        border: solid 2px var(--clr-border__base);
        display: flex;
        flex-direction: column;
        isolation: isolate;
        max-height: clamp(40dvh, 150px, 70dvh);
        max-width: calc(100dvw - calc(var(--translate-x) * 2));
        min-height: 0;
        min-width: 0;
        overflow-x: clip;
        overflow-y: auto;
        padding: var(--space-xs);
        position: fixed;
        transform: translate3d(var(--translate-x), var(--translate-y), 1000000px) scale3d(1,1,1);
        transition-property: top, right, bottom, left, opacity, visibility;
        transition-duration: var(--animDuration);
        transition-timing-function: var(--animTiming);
        z-index: 1000000;
      }

      ::slotted(*) {
        flex-shrink: 0;
        width: 100%;
      }
    `;if(!this.shadowRoot)throw new Error("shadowRoot is null");this.shadowRoot.innerHTML=`
      <style>${e}</style>
      <slot name="summary" tabindex="0"></slot>
      ${this.t?`<div part="dropmenu">
            <slot></slot>
          </div>`:""}
    `;let i=this.shadowRoot.querySelector('slot[name="summary"]');i&&(i.addEventListener("click",this.a.bind(this)),i.addEventListener("keydown",this.c.bind(this)))}o(){}c(e){e.key==="Enter"||e.key===" "?(e.preventDefault(),this.a()):e.key==="Escape"&&this.t&&(e.preventDefault(),this.open=!1)}clickOutsideHandler(e){let n=e.composedPath()[0],o=!this.shadowRoot?.contains(n)&&!this.contains(n);this.t&&o&&(this.open=!1)}a(){this.open=!this.t}l(e){let i=globalThis.devicePixelRatio||1;return Math.round(e*i)/i}r(){this.e&&(this.e(),this.e=null)}i(){let i=this.shadowRoot?.querySelector('slot[name="summary"]')?.assignedElements({flatten:!0})[0],n=this.shadowRoot?.querySelector('[part="dropmenu"]');i&&n&&this.t?this.e=Wt(i,n,async()=>{let o=[jt({autoAlignment:!0,alignment:"start",allowedPlacements:["top","bottom"],crossAxis:!0,padding:0}),Vt(0),qt({crossAxis:!0,mainAxis:!0,padding:0}),{name:"detectOverflow",async fn(s){return await zt(s,{altBoundary:!0,boundary:document.body,elementContext:"floating",padding:0,rootBoundary:{x:0,y:0,width:document.body.clientWidth,height:document.body.clientHeight}}),{}}},_t()],{x:a,y:r,middlewareData:l}=await $t(i,n,{middleware:o,placement:"bottom-start",strategy:"fixed"});if(l.hide){let s=l.hide.referenceHidden||l.hide.escaped;Object.assign(n.style,{opacity:s?"0":"1",pointerEvents:s?"none":"auto",visibility:s?"hidden":"visible"})}else Object.assign(n.style,{opacity:"1",pointerEvents:"auto",visibility:"visible"});Object.assign(n.style,{left:"0",top:"0"}),n.style.setProperty("--translate-x",`${this.l(a)}px`),n.style.setProperty("--translate-y",`${this.l(r)}px`)},{animationFrame:!0}):this.r()}};typeof window<"u"&&!customElements.get("x-dropdown")&&customElements.define("x-dropdown",ft);export{ft as XDropdown};
